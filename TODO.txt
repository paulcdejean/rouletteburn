convert to typescript

tslint

capability determination logic
